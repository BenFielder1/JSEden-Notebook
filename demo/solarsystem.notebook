[{"cell_type":"markdown","source":["# Making a Solar System Model"]},{"cell_type":"markdown","source":["The first things a construal of a solar system should have is a sun and an earth. These can be added to a picture observable using [ and ]."]},{"cell_type":"code","source":["picture1 is [sun, earth];"]},{"cell_type":"markdown","source":["... but we don't see anything yet because we don't know what sun or earth are."]},{"cell_type":"markdown","source":["## Centre of the solar system"]},{"cell_type":"markdown","source":["Set up some observables for the centre of the solar system on the screen. This will be used as the position of the sun and everything is relative to this."]},{"cell_type":"code","source":["originX = 350;","originY = 350;","tick = 0;"]},{"cell_type":"markdown","source":["## The sun"]},{"cell_type":"markdown","source":["Make a yellow circle for the sun. A circle has 3 properties here, an X position, a Y position, a size (radius) and a colour name."]},{"cell_type":"code","source":["sun is Circle(originX, originY, 30, \"gold\", \"none\");"]},{"cell_type":"markdown","source":["## Earth"]},{"cell_type":"markdown","source":["Calculate where the earth should be relative to the sun. The tick observable corresponds to time which will make it orbit in a circle around the sun. Start with some properties before making the earth itself."]},{"cell_type":"code","source":["earthDistance = 150;"]},{"cell_type":"markdown","source":["Use trigonometry to know what the X and Y components should be for that distance."]},{"cell_type":"code","source":["earthX is originX + sin(tick) * earthDistance;"]},{"cell_type":"code","source":["earthY is originY + cos(tick) * earthDistance;"]},{"cell_type":"markdown","source":["Finally make a green circle at that position to represent the earth: "]},{"cell_type":"code","source":["earth is Circle(earthX, earthY, 10, \"green\", \"none\");"]},{"cell_type":"markdown","source":["Test the rotation by changing the value of tick below: "]},{"cell_type":"code","source":["tick = 148;"]},{"cell_type":"markdown","source":["## Add three more planets"]},{"cell_type":"code","source":["picture1 is [sun, earth, mercury, venus, mars];"]},{"cell_type":"markdown","source":["The remaining planets can have their distance given relative to earths distance from the sun. These relative values are known as astronomical units where for earth they are all 1. These next observables contain the correct relative values for Mercury, Venus and Mars taken from wikipedia."]},{"cell_type":"code","source":["mercury_distance = 0.39;","venus_distance = 0.72;","mars_distance = 1.52;"]},{"cell_type":"markdown","source":["Similarly, orbital speed can be given relative to earths orbit. A number less than 1 means it takes less than 1 year to go around the sun."]},{"cell_type":"code","source":["mercury_speed = 0.24;","venus_speed = 0.62;","mars_speed = 1.9;"]},{"cell_type":"markdown","source":["## Mercury"]},{"cell_type":"markdown","source":["Calculate Mercurys position using the above information."]},{"cell_type":"code","source":["mercuryX is originX + sin(tick / mercury_speed) * earthDistance * mercury_distance;","mercuryY is originY + cos(tick / mercury_speed) * earthDistance * mercury_distance;"]},{"cell_type":"markdown","source":["Make a blue circle for Mercury"]},{"cell_type":"code","source":["mercury_colour is \"blue\";","mercury is Circle(mercuryX, mercuryY, 5, mercury_colour, \"none\");"]},{"cell_type":"markdown","source":["## Copying Mercury"]},{"cell_type":"markdown","source":["For Venus and Mars you could copy the text and change the names yourself. Or, you can ask the system to do this for you using the with command."]},{"cell_type":"code","source":["venus is mercury with","\tmercury_distance is venus_distance,","\tmercury_speed is venus_speed,","\tmercury_colour is \"pink\";"]},{"cell_type":"code","source":["mars is mercury with","\tmercury_distance is mars_distance,","\tmercury_speed is mars_speed,","\tmercury_colour is \"red\";"]},{"cell_type":"markdown","source":["This saves you having to repeat the formula for X and Y again and is a useful technique later when things get more complicated."]},{"cell_type":"markdown","source":["And again test the motion by changing tick..."]},{"cell_type":"code","source":["tick = 164;"]},{"cell_type":"markdown","source":["## It seems the three new planets have the same size. Can you fix this below?"]},{"cell_type":"code","source":["mercury_size = 5;","venus_size = 8;","mars_size = 6.5;","","mercury is Circle(mercuryX, mercuryY, mercury_size, mercury_colour, \"none\");","","venus is mercury with","\tmercury_distance is venus_distance,","\tmercury_speed is venus_speed,","\tmercury_colour is \"pink\",","    mercury_size is venus_size;","","mars is mercury with","\tmercury_distance is mars_distance,","\tmercury_speed is mars_speed,","\tmercury_colour is \"red\",","    mercury_size is mars_size;"]},{"cell_type":"markdown","source":["## Making it move"]},{"cell_type":"markdown","source":["Changing the value of tick will make the planets orbit the sun, but this can be done automatically using a clock."]},{"cell_type":"code","source":["c = Counter(&tick, 30);"]},{"cell_type":"markdown","source":["The Counter function says to add 1 to the tick variable every 30 milliseconds."]},{"cell_type":"markdown","source":["## Show the motion of Mercury"]},{"cell_type":"markdown","source":["Display a memory of where Mercury has been as a trace of small circles"]},{"cell_type":"code","source":["mercurysmall is Circle(mercuryX, mercuryY, 1, \"blue\", \"none\");","mercurytrace is mercurysmall with tick is (tick-memory)..tick;"]},{"cell_type":"code","source":["memory = 260;","picture1 is [sun, earth, venus, mercury, mars]// mercurytrace;"]},{"cell_type":"markdown","source":["## Make Earth the centre of the solar system"]},{"cell_type":"markdown","source":["Mercurys motion in the sky as observed from Earth is interesting, to see this in our Construal we need to make Earth the centre of the model and have the Sun rotate around us. This shows the mysterious motion of Mercury."]},{"cell_type":"code","source":["earthX is 350;","earthY is 350;","originX is earthX - sin(earthSpeed * tick) * earthDistance;","originY is earthY - cos(earthSpeed * tick) * earthDistance;"]},{"cell_type":"code","source":["earthSpeed = 1;"]}]